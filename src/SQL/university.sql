-- University DB

DROP DATABASE university;

CREATE DATABASE university;

USE university;

CREATE TABLE studentsGroup
(
	id INT,
	department VARCHAR(255) NOT NULL,
	educationForm VARCHAR(255) NOT NULL,
	attendYear INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE student
(
	id INT,
	firstName VARCHAR(255) NOT NULL,
	secondName VARCHAR(255) NOT NULL,
	surname VARCHAR(255) NOT NULL,
	groupId INT NOT NULL,
	PRIMARY KEY (id),
	FOREIGN KEY (groupId) REFERENCES studentsGroup(id)
	    ON UPDATE CASCADE
);

CREATE TABLE discipline
(
	id INT AUTO_INCREMENT,
	name VARCHAR(255) NOT NULL,
	hours INT NOT NULL,
	reportingForm VARCHAR(255) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE studyPlan
(
	id INT AUTO_INCREMENT,
	groupId INT NOT NULL,
	term INT NOT NULL,
	disciplineId INT NOT NULL,
	PRIMARY KEY (id),
	FOREIGN KEY (groupId) REFERENCES studentsGroup(id)
	    ON UPDATE CASCADE,
	FOREIGN KEY (disciplineId) REFERENCES discipline(id)
		ON UPDATE CASCADE
);

CREATE TABLE gradebook
(
	id INT AUTO_INCREMENT,
	studentId INT NOT NULL,
	year INT NOT NULL,
	studyPlanId INT NOT NULL,
	grade INT NOT NULL,
	PRIMARY KEY (id),
	FOREIGN KEY (studentId) REFERENCES student(id)
		ON UPDATE CASCADE,
    FOREIGN KEY (studyPlanId) REFERENCES studyPlan(id)
        ON UPDATE CASCADE
);

INSERT INTO studentsGroup(id, department, educationForm, attendYear)
VALUES (7211, 'Физика', 'дневная', 2018),
(5312, 'Математика', 'заочная', 2018),
(2313, 'Химия', 'вечерняя', 2018);


INSERT INTO student(id, firstName, secondName, surname, groupId)
VALUES (820001, 'Илларион', 'Владимирович', 'Филиппов', 7211),
(820002, 'Эдуард', 'Серапионович', 'Дмитриев', 7211),
(820003, 'Тихон', 'Гордеевич', 'Блохин', 7211),
(820004, 'Ким', 'Юрьевич', 'Федотов', 7211),
(820005, 'Кондратий', 'Христофорович', 'Носков', 7211),
(820006, 'Максим', 'Лаврентьевич', 'Русаков', 5312),
(820007, 'Остап', 'Геннадиевич', 'Ситников', 5312),
(820008, 'Бронислав', 'Фролович', 'Александров', 5312),
(820009, 'Семен', 'Аркадьевич', 'Медведев', 5312),
(820010, 'Ярослав', 'Глебович', 'Кондратьев', 5312),
(820011, 'Кондратий', 'Семёнович', 'Новиков', 2313),
(820012, 'Савелий', 'Демьянович', 'Шашков', 2313),
(820013, 'Николай', 'Куприянович', 'Тетерин', 2313),
(820014, 'Фрол', 'Демьянович', 'Комаров', 2313),
(820015, 'Виталий', 'Сергеевич', 'Шестаков', 2313),
(820016, 'Герда', 'Юрьевна', 'Громова', 7211),
(820017, 'Марфа', 'Григорьевна', 'Муравьёва', 7211),
(820018, 'Эстелла', 'Протасьевна', 'Мельникова', 7211),
(820019, 'Марина', 'Сергеевна', 'Капустина', 7211),
(820020, 'Фаина', 'Юрьевна', 'Евсеева', 7211),
(820021, 'Кара', 'Мэлсовна', 'Жданова', 5312),
(820022, 'Никки', 'Христофоровна', 'Владимирова', 5312),
(820023, 'Виолетта', 'Витальевна', 'Дементьева', 5312),
(820024, 'Эдилия', 'Алексеевна', 'Игнатьева', 5312),
(820025, 'Эдилия', 'Артёмовна', 'Иванкова', 5312),
(820026, 'Доля', 'Филатовна', 'Костина', 2313),
(820027, 'Евгения', 'Олеговна', 'Андреева', 2313),
(820028, 'Нила', 'Борисовна', 'Авдеева', 2313),
(820029, 'Фия', 'Натановна', 'Гаврилова', 2313),
(820030, 'Версавия', 'Борисовна', 'Симонова', 2313);

INSERT INTO discipline(name, hours, reportingForm)
VALUES ('Молекулярная физика', 62, 'экзамен'),
('Математический анализ', 72, 'экзамен'),
('Электродинамика', 68, 'экзамен'),
('Философия', 34, 'диф.зачет'),
('Математическая логика', 72, 'экзамен'),
('Высшая алгебра', 68, 'экзамен'),
('Органическая химия', 72, 'экзамен'),
('Биохимия', 72, 'экзамен'),
('Основы молекулярной биологии', 56, 'экзамен');

INSERT INTO studyPlan(groupId, term, disciplineId)
VALUES (7211, 1, 1),
(7211, 1, 2),
(7211, 2, 3),
(7211, 2, 4),
(5312, 1, 2),
(5312, 1, 5),
(5312, 2, 6),
(5312, 2, 4),
(2313, 1, 7),
(2313, 1, 8),
(2313, 2, 9),
(2313, 2, 4);

INSERT INTO gradebook(studentId, year, studyPlanId, grade)
VALUES (820001, 2018, 2, 4),
(820002, 2018, 2, 3),
(820003, 2018, 2, 5),
(820004, 2018, 2, 3),
(820005, 2018, 2, 5),
(820016, 2018, 2, 4),
(820017, 2018, 2, 4),
(820018, 2018, 2, 4),
(820019, 2018, 2, 4),
(820020, 2018, 2, 4),
(820006, 2018, 5, 4),
(820007, 2018, 5, 5),
(820008, 2018, 5, 3),
(820009, 2018, 5, 4),
(820010, 2018, 5, 3),
(820021, 2018, 5, 4),
(820022, 2018, 5, 5),
(820023, 2018, 5, 5),
(820024, 2018, 5, 4),
(820025, 2018, 5, 5),
(820011, 2018, 9, 3),
(820012, 2018, 9, 5),
(820013, 2018, 9, 4),
(820014, 2018, 9, 4),
(820015, 2018, 9, 3),
(820026, 2018, 9, 3),
(820027, 2018, 9, 4),
(820028, 2018, 9, 5),
(820029, 2018, 9, 5),
(820030, 2018, 9, 4),
(820001, 2018, 3, 5),
(820002, 2018, 3, 4),
(820003, 2018, 3, 5),
(820004, 2018, 3, 4),
(820005, 2018, 3, 4),
(820016, 2018, 3, 4),
(820017, 2018, 3, 4),
(820018, 2018, 3, 4),
(820019, 2018, 3, 5),
(820020, 2018, 3, 3),
(820006, 2018, 7, 4),
(820007, 2018, 7, 4),
(820008, 2018, 7, 5),
(820009, 2018, 7, 5),
(820010, 2018, 7, 4),
(820021, 2018, 7, 4),
(820022, 2018, 7, 4),
(820023, 2018, 7, 5),
(820024, 2018, 7, 5),
(820025, 2018, 7, 5),
(820011, 2018, 11, 5),
(820012, 2018, 11, 3),
(820013, 2018, 11, 4),
(820014, 2018, 11, 4),
(820015, 2018, 11, 3),
(820026, 2018, 11, 3),
(820027, 2018, 11, 5),
(820028, 2018, 11, 4),
(820029, 2018, 11, 5),
(820030, 2018, 11, 5),
(820001, 2019, 1, 4),
(820002, 2019, 1, 5),
(820003, 2019, 1, 4),
(820004, 2019, 1, 3),
(820005, 2019, 1, 4),
(820016, 2019, 1, 5),
(820017, 2019, 1, 4),
(820018, 2019, 1, 4),
(820019, 2019, 1, 3),
(820020, 2019, 1, 5),
(820006, 2019, 6, 4),
(820007, 2019, 6, 5),
(820008, 2019, 6, 4),
(820009, 2019, 6, 4),
(820010, 2019, 6, 5),
(820021, 2019, 6, 4),
(820022, 2019, 6, 5),
(820023, 2019, 6, 4),
(820024, 2019, 6, 3),
(820025, 2019, 6, 5),
(820011, 2019, 10, 4),
(820012, 2019, 10, 4),
(820013, 2019, 10, 3),
(820014, 2019, 10, 5),
(820015, 2019, 10, 4),
(820026, 2019, 10, 5),
(820027, 2019, 10, 3),
(820028, 2019, 10, 4),
(820029, 2019, 10, 5),
(820030, 2019, 10, 5),
(820001, 2019, 4, 5),
(820002, 2019, 4, 4),
(820003, 2019, 4, 4),
(820004, 2019, 4, 4),
(820005, 2019, 4, 5),
(820016, 2019, 4, 4),
(820017, 2019, 4, 4),
(820018, 2019, 4, 4),
(820019, 2019, 4, 4),
(820020, 2019, 4, 5),
(820006, 2019, 8, 4),
(820007, 2019, 8, 4),
(820008, 2019, 8, 4),
(820009, 2019, 8, 4),
(820010, 2019, 8, 4),
(820021, 2019, 8, 4),
(820022, 2019, 8, 4),
(820023, 2019, 8, 4),
(820024, 2019, 8, 4),
(820025, 2019, 8, 5),
(820011, 2019, 12, 4),
(820012, 2019, 12, 4),
(820013, 2019, 12, 4),
(820014, 2019, 12, 4),
(820015, 2019, 12, 4),
(820026, 2019, 12, 5),
(820027, 2019, 12, 4),
(820028, 2019, 12, 4),
(820029, 2019, 12, 5),
(820030, 2019, 12, 4);